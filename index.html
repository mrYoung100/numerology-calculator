<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Youthology 真理派｜生命灵数流年计算器</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f0f9f7;
      padding: 20px;
      color: #333;
      max-width: 500px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #136f63;
    }
    label {
      display: block;
      margin-top: 15px;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background-color: #136f63;
      color: white;
      margin-top: 20px;
    }
    .result {
      margin-top: 30px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1>🔮 生命灵数流年计算器</h1>
  <p style="text-align: center; font-weight: bold;">由 Youthology 真理派 提供</p>

  <label>出生日期：</label>
  <input type="date" id="birthdate" />

  <label>要查看哪一年：</label>
  <input type="number" id="targetYear" value="2025" />

  <button onclick="calculate()">开始计算</button>

  <div id="result" class="result" style="display:none;"></div>

  <script>
    function sumDigits(str) {
      return str.split('').reduce((sum, digit) => sum + Number(digit), 0);
    }

    function reduceToOneDigit(num) {
      while (num > 9) {
        num = sumDigits(num.toString());
      }
      return num;
    }

    function getRulingNumber(dateStr) {
      const nums = dateStr.replaceAll('-', '').split('').map(Number);
      return reduceToOneDigit(nums.reduce((a,b) => a + b, 0));
    }

    function getPersonalYear(dateStr, targetYear) {
      const birthMonth = Number(dateStr.split('-')[1]);
      const birthDay = Number(dateStr.split('-')[2]);
      const worldYear = reduceToOneDigit(sumDigits(targetYear.toString()));
      return reduceToOneDigit(worldYear + reduceToOneDigit(birthMonth + birthDay));
    }

    function getYearMeaning(yearNum) {
      const meanings = {
        1: "新开始的一年，适合创业、行动、展开新计划。要大胆，但有策略。",
        2: "合作与耐性之年，宜交朋友、培养感情，慢慢来，积累信任。",
        3: "创意表达年，适合讲故事、社交、搞内容营销，让自己发光。",
        4: "扎根的一年，适合稳定事业、理财、累积实力，不能急。",
        5: "变动年，自由与突破，可能会有搬家、跳槽、大改变。跟着心走。",
        6: "责任与家庭之年，适合关注家庭、健康、关系修复。",
        7: "内在整理年，适合学习、沉淀、进修、反思，不宜冲动做决定。",
        8: "成就与金钱之年，适合冲事业、扩展、收割成果。压力也大，要掌控好。",
        9: "放下、结尾的一年，清理旧包袱，为新人生做准备。适合断舍离。"
      };
      return meanings[yearNum] || "未知年份。";
    }

    function calculate() {
      const dateStr = document.getElementById('birthdate').value;
      const targetYear = Number(document.getElementById('targetYear').value);

      if (!dateStr || !targetYear) {
        alert("请完整输入生日与年份！");
        return;
      }

      const rulingNumber = getRulingNumber(dateStr);
      const personalYear = getPersonalYear(dateStr, targetYear);
      const meaning = getYearMeaning(personalYear);

      const resultDiv = document.getElementById('result');
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <h3>🧬 主宰数：${rulingNumber}</h3>
        <h3>📅 ${targetYear} 流年数：${personalYear}</h3>
        <p>🔮 ${meaning}</p>
        <hr>
        <p style="font-size:0.9em; text-align:center">© Youthology 真理派</p>
      `;
    }
  </script>
</body>
</html>
